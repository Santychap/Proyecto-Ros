<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/base :: layout('Crear Pedido', ~{::section})">

<section th:fragment="section">
  <div class="page-header">
    <h1><i class="bi bi-cart-plus me-2"></i>Crear Pedido</h1>
  </div>

  <div class="content-section">
    <h2 th:text="${pedido.id != null} ? 'Editar Pedido' : 'Crear Pedido'">Crear Pedido</h2>

    <form th:action="@{${pedido.id != null ? '/pedidos/update' : '/pedidos/save'}" th:object="${pedido}" method="post" class="mt-3">
        <input type="hidden" th:if="${pedido.id != null}" th:field="*{id}" />

        <div class="mb-3">
            <label class="form-label">Usuario ID</label>
            <input class="form-control" type="number" th:field="*{userId}" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Reserva ID</label>
            <input class="form-control" type="number" th:field="*{reservaId}" />
        </div>

        <div class="mb-3">
            <label class="form-label">Total</label>
            <input class="form-control" type="number" step="0.01" th:field="*{total}" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Estado</label>
            <select class="form-select" th:field="*{estado}">
                <option value="SIN_CANCELAR">Sin Cancelar</option>
                <option value="PAGADO">Pagado</option>
                <option value="CANCELADO">Cancelado</option>
            </select>
        </div>

        <button class="btn btn-success" type="submit">Guardar</button>
        <a class="btn btn-secondary" th:href="@{/pedidos}">Cancelar</a>
    </form>
  </div>

</section>

</html>