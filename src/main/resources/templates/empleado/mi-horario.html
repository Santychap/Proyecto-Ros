<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="layout/base :: layout('Mi Horario', ~{::section})">

<section th:fragment="section">

  <!-- Encabezado de página -->
  <div class="page-header">
    <div class="btn-group-header">
      <h1><i class="bi bi-clock me-2"></i>Mi Horario de Trabajo</h1>
      <div class="d-flex gap-2">
        <span class="badge bg-info fs-6">
          <i class="bi bi-person-badge me-1"></i>Empleado
        </span>
      </div>
    </div>
  </div>

  <!-- Sección de contenido -->
  <div class="content-section">
    <!-- Mis horarios -->
    <div class="card">
      <div class="card-header">
        <i class="bi bi-calendar-week me-2"></i>Mis Horarios Asignados
      </div>
      <div class="card-body">
        <div th:if="${horarios.empty}" class="text-center py-4">
          <i class="bi bi-calendar-x display-1 text-muted"></i>
          <h4 class="text-muted mt-3">No tienes horarios asignados</h4>
          <p class="text-muted">Contacta con tu supervisor para que te asigne un horario.</p>
        </div>
        
        <div th:unless="${horarios.empty}" class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
            <tr>
              <th><i class="bi bi-calendar me-1"></i>Día</th>
              <th><i class="bi bi-clock me-1"></i>Hora Entrada</th>
              <th><i class="bi bi-clock-history me-1"></i>Hora Salida</th>
              <th><i class="bi bi-hourglass me-1"></i>Horas Totales</th>
              <th><i class="bi bi-info-circle me-1"></i>Estado</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="horario : ${horarios}">
              <td>
                <div class="d-flex align-items-center">
                  <i class="bi bi-sun me-2 text-warning"></i>
                  <strong th:text="${horario.diaSemana}">Día</strong>
                </div>
              </td>
              <td>
                <span class="badge bg-success" th:text="${horario.horaInicio}">08:00</span>
              </td>
              <td>
                <span class="badge bg-danger" th:text="${horario.horaFin}">17:00</span>
              </td>
              <td>
                <span class="badge bg-info">8 horas</span>
              </td>
              <td>
                <span class="badge bg-success">Programado</span>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Acciones rápidas -->
    <div class="row mt-4">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <i class="bi bi-lightning me-2"></i>Acciones Rápidas
          </div>
          <div class="card-body">
            <div class="d-grid gap-2">
              <button class="btn btn-success" disabled>
                <i class="bi bi-clock-history me-2"></i>Marcar Entrada
              </button>
              <button class="btn btn-warning" disabled>
                <i class="bi bi-clock me-2"></i>Marcar Salida
              </button>
              <a th:href="@{/pedidos-asignados}" class="btn btn-info">
                <i class="bi bi-cart-check me-2"></i>Ver Pedidos Asignados
              </a>
            </div>
            <small class="text-muted mt-2 d-block">
              <i class="bi bi-info-circle me-1"></i>Las funciones de marcado estarán disponibles próximamente
            </small>
          </div>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <i class="bi bi-person-circle me-2"></i>Mi Información
          </div>
          <div class="card-body">
            <div class="mb-3">
              <strong class="text-warning">Empleado:</strong><br>
              <span class="text-white" th:text="${#authentication.name}">empleado@restaurant.com</span>
            </div>
            <div class="mb-3">
              <strong class="text-warning">Sede:</strong><br>
              <span class="text-white">Restaurante Principal</span>
            </div>
            <div class="mb-3">
              <strong class="text-warning">Horarios Asignados:</strong><br>
              <span class="text-white" th:text="${horarios.size()} + ' horarios'">0 horarios</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>

</html>